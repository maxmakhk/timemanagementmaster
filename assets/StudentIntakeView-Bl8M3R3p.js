import{_ as S,u as $,c as l,a as e,t as s,q as w,F as v,i as _,b as P,r as p,k as f,e as L,o,n as C}from"./index-Cz2BG58W.js";const q=[{id:1,name:"Alice",character:"å‹¤å¥®çš„å­¸ç”Ÿ",difficulty:"Easy",description:"å¹«åŠ© Alice æå‡åŸºç¤æŠ€èƒ½",personality:"å‹¤å¥®",image:"ğŸ‘§",initial:{coding:0,math:0,fitness:0},goals:{coding:40,math:30,fitness:20},requirements:{minMasterLevel:0,minCompletedQuests:0},requiredDays:5,rewards:{masterReputation:10,coins:100}},{id:2,name:"Bob",character:"æ´»æ½‘çš„å­¸ç”Ÿ",difficulty:"Normal",description:"å”åŠ© Bob é”åˆ°å‡è¡¡ç™¼å±•",personality:"æ´»æ½‘",image:"ğŸ‘¦",initial:{coding:5,math:3,fitness:8},goals:{coding:50,math:35,fitness:40},requirements:{minMasterLevel:0,minCompletedQuests:0},requiredDays:7,rewards:{masterReputation:15,coins:150}},{id:3,name:"Charlie",character:"è°æ…§çš„å­¸ç”Ÿ",difficulty:"Hard",description:"æŒ‡å° Charlie æˆç‚ºå­¸è¡“é«˜æ‰‹",personality:"è°æ…§",image:"ğŸ§‘â€ğŸ“",initial:{coding:8,math:10,fitness:2},goals:{coding:60,math:70,fitness:25},requirements:{minMasterLevel:2,minCompletedQuests:2},requiredDays:10,rewards:{masterReputation:20,coins:200}},{id:4,name:"Diana",character:"å‡è¡¡çš„å­¸ç”Ÿ",difficulty:"Hard",description:"åŸ¹é¤Š Diana æˆç‚ºå…¨èƒ½äººæ‰",personality:"å‡è¡¡",image:"ğŸ‘©",initial:{coding:6,math:6,fitness:6},goals:{coding:50,math:50,fitness:50},requirements:{minMasterLevel:1,minCompletedQuests:1},requiredDays:10,rewards:{masterReputation:25,coins:250}},{id:5,name:"Emma",character:"é«”è‚²å¤©æ‰",difficulty:"Normal",description:"å¹«åŠ© Emma å…¨é¢ç™¼å±•",personality:"æ´»èº",image:"ğŸƒâ€â™€ï¸",initial:{coding:2,math:2,fitness:12},goals:{coding:30,math:25,fitness:60},requirements:{minMasterLevel:1,minCompletedQuests:1},requiredDays:7,rewards:{masterReputation:15,coins:150}}],D=(c=0,r=0)=>q.filter(u=>u.requirements.minMasterLevel<=c&&u.requirements.minCompletedQuests<=r),k=c=>Math.floor(c/2),I={class:"intake-view"},M={class:"intake-header"},A={class:"progress-info"},R={class:"intake-container"},B={class:"quests-panel"},E={class:"quests-grid"},O=["onClick"],T={class:"quest-image"},V={class:"quest-name"},H={class:"quest-character"},J={class:"quest-description"},F={class:"quest-goals"},z={class:"goal-item"},j={class:"goal-label"},G={class:"goal-value"},K={class:"goal-item"},U={class:"goal-label"},W={class:"goal-value"},X={class:"goal-item"},Y={class:"goal-label"},Z={class:"goal-value"},x={class:"quest-reward"},ee={key:0,class:"no-quests"},se={class:"selected-panel"},te={key:0,class:"no-selection"},ae={key:1,class:"selected-list"},ie={class:"selected-image"},ne={class:"selected-info"},le={class:"selected-goals"},oe=["onClick"],de={class:"action-buttons"},ce=["disabled"],re={__name:"StudentIntakeView",setup(c){const r=L(),{t:u}=$(),d=p([]);(()=>{const t=sessionStorage.getItem("scheduleState");if(t){const i=JSON.parse(t);i.completedQuestIds&&(d.value=i.completedQuestIds)}})();const y=f(()=>Math.min(d.value.length+1,3)),h=f(()=>{const t=k(d.value.length);return D(t,d.value.length)}),n=p([]),g=t=>{const i=n.value.findIndex(a=>a.id===t.id);i>-1?n.value.splice(i,1):n.value=[t]},b=t=>n.value.some(i=>i.id===t.id),N=()=>{if(n.value.length===0){alert(u("intake.selectAtLeastOne"));return}const t=sessionStorage.getItem("scheduleState");if(t&&(JSON.parse(t).selectedNPCs||[]).some(m=>m.id===n.value[0].id)){alert("This quest is already in your missions!");return}sessionStorage.setItem("newNPC",JSON.stringify(n.value[0])),r.push("/time-management/schedule")},Q=()=>{r.push("/time-management/schedule")};return(t,i)=>(o(),l("div",I,[e("header",M,[i[0]||(i[0]=e("h1",null,"â• Add New NPC Mission",-1)),i[1]||(i[1]=e("p",null,"Select one NPC to add to your timetable",-1)),e("div",A,[e("span",null,s(t.$t("intake.masterLevel"))+": "+s(w(k)(d.value.length)),1),e("span",null,s(t.$t("intake.completedQuests"))+": "+s(d.value.length),1)])]),e("div",R,[e("div",B,[e("h2",null,s(t.$t("intake.availableNPCCards")),1),e("div",E,[(o(!0),l(v,null,_(h.value,a=>(o(),l("div",{key:a.id,class:C(["quest-card",{selected:b(a)}]),onClick:m=>g(a)},[e("div",T,s(a.image),1),e("div",V,s(a.name),1),e("div",H,s(a.character),1),e("div",{class:C(["quest-difficulty","difficulty-"+a.difficulty.toLowerCase()])},s(a.difficulty),3),e("div",J,s(a.description),1),e("div",F,[e("div",z,[e("span",j,s(t.$t("intake.coding")),1),e("span",G,s(a.goals.coding),1)]),e("div",K,[e("span",U,s(t.$t("intake.math")),1),e("span",W,s(a.goals.math),1)]),e("div",X,[e("span",Y,s(t.$t("intake.fitness")),1),e("span",Z,s(a.goals.fitness),1)])]),e("div",x,[e("span",null,"ğŸ’° +"+s(a.rewards.masterReputation),1)])],10,O))),128))]),h.value.length===0?(o(),l("div",ee,s(t.$t("intake.noAvailableQuests")),1)):P("",!0)]),e("div",se,[e("h2",null,s(t.$t("intake.selectedNPCs"))+" ("+s(n.value.length)+"/"+s(y.value)+")",1),n.value.length===0?(o(),l("div",te,[e("p",null,s(t.$t("intake.selectNPCToStart")),1)])):(o(),l("div",ae,[(o(!0),l(v,null,_(n.value,a=>(o(),l("div",{key:a.id,class:"selected-item"},[e("div",ie,s(a.image),1),e("div",ne,[e("h4",null,s(a.name),1),e("p",null,s(a.character),1),e("div",le,[e("span",null,s(t.$t("intake.coding"))+": "+s(a.goals.coding),1),e("span",null,s(t.$t("intake.math"))+": "+s(a.goals.math),1),e("span",null,s(t.$t("intake.fitness"))+": "+s(a.goals.fitness),1)])]),e("button",{class:"remove-btn",onClick:m=>g(a)},"âœ•",8,oe)]))),128))]))])]),e("div",de,[e("button",{onClick:Q,class:"btn btn-secondary"}," â† Cancel "),e("button",{onClick:N,class:"btn btn-primary",disabled:n.value.length===0}," âœ“ Add to Timetable ",8,ce)])]))}},he=S(re,[["__scopeId","data-v-3f975a80"]]);export{he as default};
