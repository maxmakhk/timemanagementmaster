import{_ as K,u as Q,c as l,a as e,t as s,q as S,F as p,i as v,b as $,r as _,k as y,e as w,o,l as f}from"./index-mYd7Dziu.js";const P=[{id:1,name:"Alice",characterKey:"quests.alice1.character",difficulty:"Easy",descriptionKey:"quests.alice1.description",personalityKey:"quests.alice1.personality",image:"ğŸ‘§",initial:{coding:0,math:0,fitness:0},goals:{coding:40,math:30,fitness:20},requirements:{minMasterLevel:0,minCompletedQuests:0},requiredDays:5,rewards:{masterReputation:10,coins:100}},{id:2,name:"Bob",characterKey:"quests.bob1.character",difficulty:"Normal",descriptionKey:"quests.bob1.description",personalityKey:"quests.bob1.personality",image:"ğŸ‘¦",initial:{coding:5,math:3,fitness:8},goals:{coding:50,math:35,fitness:40},requirements:{minMasterLevel:0,minCompletedQuests:0},requiredDays:7,rewards:{masterReputation:15,coins:150}},{id:3,name:"Alice",characterKey:"quests.alice2.character",difficulty:"Hard",descriptionKey:"quests.alice2.description",personalityKey:"quests.alice2.personality",image:"ğŸ§‘â€ğŸ“",initial:{coding:8,math:10,fitness:2},goals:{coding:60,math:70,fitness:25},requirements:{minMasterLevel:2,minCompletedQuests:2},requiredDays:10,rewards:{masterReputation:20,coins:200}},{id:4,name:"Alice",characterKey:"quests.alice3.character",difficulty:"Hard",descriptionKey:"quests.alice3.description",personalityKey:"quests.alice3.personality",image:"ğŸ‘©",initial:{coding:6,math:6,fitness:6},goals:{coding:50,math:50,fitness:50},requirements:{minMasterLevel:1,minCompletedQuests:1},requiredDays:10,rewards:{masterReputation:25,coins:250}},{id:5,name:"Bob",characterKey:"quests.bob2.character",difficulty:"Normal",descriptionKey:"quests.bob2.description",personalityKey:"quests.bob2.personality",image:"ğŸƒâ€â™€ï¸",initial:{coding:2,math:2,fitness:12},goals:{coding:30,math:25,fitness:60},requirements:{minMasterLevel:1,minCompletedQuests:1},requiredDays:7,rewards:{masterReputation:15,coins:150}}],L=(d=0,r=0)=>P.filter(u=>u.requirements.minMasterLevel<=d&&u.requirements.minCompletedQuests<=r),b=d=>Math.floor(d/2),I={class:"intake-view"},M={class:"intake-header"},A={class:"progress-info"},D={class:"intake-container"},R={class:"quests-panel"},B={class:"quests-grid"},O=["onClick"],T={class:"quest-image"},V={class:"quest-name"},H={class:"quest-character"},J={class:"quest-description"},E={class:"quest-goals"},F={class:"goal-item"},z={class:"goal-label"},j={class:"goal-value"},G={class:"goal-item"},U={class:"goal-label"},W={class:"goal-value"},X={class:"goal-item"},Y={class:"goal-label"},Z={class:"goal-value"},x={class:"quest-reward"},ee={key:0,class:"no-quests"},se={class:"selected-panel"},te={key:0,class:"no-selection"},ae={key:1,class:"selected-list"},ie={class:"selected-image"},ne={class:"selected-info"},le={class:"selected-goals"},oe=["onClick"],ce={class:"action-buttons"},de=["disabled"],re={__name:"StudentIntakeView",setup(d){const r=w(),{t:u}=Q(),c=_([]);(()=>{const t=sessionStorage.getItem("scheduleState");if(t){const i=JSON.parse(t);i.completedQuestIds&&(c.value=i.completedQuestIds)}})();const k=y(()=>Math.min(c.value.length+1,3)),h=y(()=>{const t=b(c.value.length);return L(t,c.value.length)}),n=_([]),g=t=>{const i=n.value.findIndex(a=>a.id===t.id);i>-1?n.value.splice(i,1):n.value=[t]},C=t=>n.value.some(i=>i.id===t.id),q=()=>{if(n.value.length===0){alert(u("intake.selectAtLeastOne"));return}const t=sessionStorage.getItem("scheduleState");if(t&&(JSON.parse(t).selectedNPCs||[]).some(m=>m.id===n.value[0].id)){alert("This quest is already in your missions!");return}sessionStorage.setItem("newNPC",JSON.stringify(n.value[0])),r.push("/time-management/schedule")},N=()=>{r.push("/time-management/schedule")};return(t,i)=>(o(),l("div",I,[e("header",M,[i[0]||(i[0]=e("h1",null,"â• Add New NPC Mission",-1)),i[1]||(i[1]=e("p",null,"Select one NPC to add to your timetable",-1)),e("div",A,[e("span",null,s(t.$t("intake.masterLevel"))+": "+s(S(b)(c.value.length)),1),e("span",null,s(t.$t("intake.completedQuests"))+": "+s(c.value.length),1)])]),e("div",D,[e("div",R,[e("h2",null,s(t.$t("intake.availableNPCCards")),1),e("div",B,[(o(!0),l(p,null,v(h.value,a=>(o(),l("div",{key:a.id,class:f(["quest-card",{selected:C(a)}]),onClick:m=>g(a)},[e("div",T,s(a.image),1),e("div",V,s(a.name),1),e("div",H,s(t.$t(a.characterKey)),1),e("div",{class:f(["quest-difficulty","difficulty-"+a.difficulty.toLowerCase()])},s(a.difficulty),3),e("div",J,s(t.$t(a.descriptionKey)),1),e("div",E,[e("div",F,[e("span",z,s(t.$t("intake.coding")),1),e("span",j,s(a.goals.coding),1)]),e("div",G,[e("span",U,s(t.$t("intake.math")),1),e("span",W,s(a.goals.math),1)]),e("div",X,[e("span",Y,s(t.$t("intake.fitness")),1),e("span",Z,s(a.goals.fitness),1)])]),e("div",x,[e("span",null,"ğŸ’° +"+s(a.rewards.masterReputation),1)])],10,O))),128))]),h.value.length===0?(o(),l("div",ee,s(t.$t("intake.noAvailableQuests")),1)):$("",!0)]),e("div",se,[e("h2",null,s(t.$t("intake.selectedNPCs"))+" ("+s(n.value.length)+"/"+s(k.value)+")",1),n.value.length===0?(o(),l("div",te,[e("p",null,s(t.$t("intake.selectNPCToStart")),1)])):(o(),l("div",ae,[(o(!0),l(p,null,v(n.value,a=>(o(),l("div",{key:a.id,class:"selected-item"},[e("div",ie,s(a.image),1),e("div",ne,[e("h4",null,s(a.name),1),e("p",null,s(a.character),1),e("div",le,[e("span",null,s(t.$t("intake.coding"))+": "+s(a.goals.coding),1),e("span",null,s(t.$t("intake.math"))+": "+s(a.goals.math),1),e("span",null,s(t.$t("intake.fitness"))+": "+s(a.goals.fitness),1)])]),e("button",{class:"remove-btn",onClick:m=>g(a)},"âœ•",8,oe)]))),128))]))])]),e("div",ce,[e("button",{onClick:N,class:"btn btn-secondary"}," â† Cancel "),e("button",{onClick:q,class:"btn btn-primary",disabled:n.value.length===0}," âœ“ Add to Timetable ",8,de)])]))}},he=K(re,[["__scopeId","data-v-ae976829"]]);export{he as default};
